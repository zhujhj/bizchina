{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useIsomorphicLayoutEffect } from '..';\nfunction useLockedBody(initialLocked = false, rootId = '___gatsby') {\n  const [locked, setLocked] = useState(initialLocked);\n  useIsomorphicLayoutEffect(() => {\n    if (!locked) {\n      return;\n    }\n    const originalOverflow = document.body.style.overflow;\n    const originalPaddingRight = document.body.style.paddingRight;\n    document.body.style.overflow = 'hidden';\n    const root = document.getElementById(rootId);\n    const scrollBarWidth = root ? root.offsetWidth - root.scrollWidth : 0;\n    if (scrollBarWidth) {\n      document.body.style.paddingRight = `${scrollBarWidth}px`;\n    }\n    return () => {\n      document.body.style.overflow = originalOverflow;\n      if (scrollBarWidth) {\n        document.body.style.paddingRight = originalPaddingRight;\n      }\n    };\n  }, [locked]);\n  useEffect(() => {\n    if (locked !== initialLocked) {\n      setLocked(initialLocked);\n    }\n  }, [initialLocked]);\n  return [locked, setLocked];\n}\nexport default useLockedBody;","map":{"version":3,"names":["useEffect","useState","useIsomorphicLayoutEffect","useLockedBody","initialLocked","rootId","locked","setLocked","originalOverflow","document","body","style","overflow","originalPaddingRight","paddingRight","root","getElementById","scrollBarWidth","offsetWidth","scrollWidth"],"sources":["/Users/jason/bizchina/node_modules/usehooks-ts/dist/esm/useLockedBody/useLockedBody.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useIsomorphicLayoutEffect } from '..';\nfunction useLockedBody(initialLocked = false, rootId = '___gatsby') {\n    const [locked, setLocked] = useState(initialLocked);\n    useIsomorphicLayoutEffect(() => {\n        if (!locked) {\n            return;\n        }\n        const originalOverflow = document.body.style.overflow;\n        const originalPaddingRight = document.body.style.paddingRight;\n        document.body.style.overflow = 'hidden';\n        const root = document.getElementById(rootId);\n        const scrollBarWidth = root ? root.offsetWidth - root.scrollWidth : 0;\n        if (scrollBarWidth) {\n            document.body.style.paddingRight = `${scrollBarWidth}px`;\n        }\n        return () => {\n            document.body.style.overflow = originalOverflow;\n            if (scrollBarWidth) {\n                document.body.style.paddingRight = originalPaddingRight;\n            }\n        };\n    }, [locked]);\n    useEffect(() => {\n        if (locked !== initialLocked) {\n            setLocked(initialLocked);\n        }\n    }, [initialLocked]);\n    return [locked, setLocked];\n}\nexport default useLockedBody;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,yBAAyB,QAAQ,IAAI;AAC9C,SAASC,aAAaA,CAACC,aAAa,GAAG,KAAK,EAAEC,MAAM,GAAG,WAAW,EAAE;EAChE,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAACG,aAAa,CAAC;EACnDF,yBAAyB,CAAC,MAAM;IAC5B,IAAI,CAACI,MAAM,EAAE;MACT;IACJ;IACA,MAAME,gBAAgB,GAAGC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ;IACrD,MAAMC,oBAAoB,GAAGJ,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACG,YAAY;IAC7DL,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;IACvC,MAAMG,IAAI,GAAGN,QAAQ,CAACO,cAAc,CAACX,MAAM,CAAC;IAC5C,MAAMY,cAAc,GAAGF,IAAI,GAAGA,IAAI,CAACG,WAAW,GAAGH,IAAI,CAACI,WAAW,GAAG,CAAC;IACrE,IAAIF,cAAc,EAAE;MAChBR,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACG,YAAY,GAAI,GAAEG,cAAe,IAAG;IAC5D;IACA,OAAO,MAAM;MACTR,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAGJ,gBAAgB;MAC/C,IAAIS,cAAc,EAAE;QAChBR,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACG,YAAY,GAAGD,oBAAoB;MAC3D;IACJ,CAAC;EACL,CAAC,EAAE,CAACP,MAAM,CAAC,CAAC;EACZN,SAAS,CAAC,MAAM;IACZ,IAAIM,MAAM,KAAKF,aAAa,EAAE;MAC1BG,SAAS,CAACH,aAAa,CAAC;IAC5B;EACJ,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EACnB,OAAO,CAACE,MAAM,EAAEC,SAAS,CAAC;AAC9B;AACA,eAAeJ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}