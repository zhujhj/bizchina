{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from '..';\nfunction useEventListener(eventName, handler, element, options) {\n  const savedHandler = useRef(handler);\n  useIsomorphicLayoutEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n  useEffect(() => {\n    var _a;\n    const targetElement = (_a = element === null || element === void 0 ? void 0 : element.current) !== null && _a !== void 0 ? _a : window;\n    if (!(targetElement && targetElement.addEventListener)) return;\n    const listener = event => savedHandler.current(event);\n    targetElement.addEventListener(eventName, listener, options);\n    return () => {\n      targetElement.removeEventListener(eventName, listener, options);\n    };\n  }, [eventName, element, options]);\n}\nexport default useEventListener;","map":{"version":3,"names":["useEffect","useRef","useIsomorphicLayoutEffect","useEventListener","eventName","handler","element","options","savedHandler","current","_a","targetElement","window","addEventListener","listener","event","removeEventListener"],"sources":["/Users/jason/bizchina/node_modules/usehooks-ts/dist/esm/useEventListener/useEventListener.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from '..';\nfunction useEventListener(eventName, handler, element, options) {\n    const savedHandler = useRef(handler);\n    useIsomorphicLayoutEffect(() => {\n        savedHandler.current = handler;\n    }, [handler]);\n    useEffect(() => {\n        var _a;\n        const targetElement = (_a = element === null || element === void 0 ? void 0 : element.current) !== null && _a !== void 0 ? _a : window;\n        if (!(targetElement && targetElement.addEventListener))\n            return;\n        const listener = event => savedHandler.current(event);\n        targetElement.addEventListener(eventName, listener, options);\n        return () => {\n            targetElement.removeEventListener(eventName, listener, options);\n        };\n    }, [eventName, element, options]);\n}\nexport default useEventListener;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,yBAAyB,QAAQ,IAAI;AAC9C,SAASC,gBAAgBA,CAACC,SAAS,EAAEC,OAAO,EAAEC,OAAO,EAAEC,OAAO,EAAE;EAC5D,MAAMC,YAAY,GAAGP,MAAM,CAACI,OAAO,CAAC;EACpCH,yBAAyB,CAAC,MAAM;IAC5BM,YAAY,CAACC,OAAO,GAAGJ,OAAO;EAClC,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACbL,SAAS,CAAC,MAAM;IACZ,IAAIU,EAAE;IACN,MAAMC,aAAa,GAAG,CAACD,EAAE,GAAGJ,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACG,OAAO,MAAM,IAAI,IAAIC,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGE,MAAM;IACtI,IAAI,EAAED,aAAa,IAAIA,aAAa,CAACE,gBAAgB,CAAC,EAClD;IACJ,MAAMC,QAAQ,GAAGC,KAAK,IAAIP,YAAY,CAACC,OAAO,CAACM,KAAK,CAAC;IACrDJ,aAAa,CAACE,gBAAgB,CAACT,SAAS,EAAEU,QAAQ,EAAEP,OAAO,CAAC;IAC5D,OAAO,MAAM;MACTI,aAAa,CAACK,mBAAmB,CAACZ,SAAS,EAAEU,QAAQ,EAAEP,OAAO,CAAC;IACnE,CAAC;EACL,CAAC,EAAE,CAACH,SAAS,EAAEE,OAAO,EAAEC,OAAO,CAAC,CAAC;AACrC;AACA,eAAeJ,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}